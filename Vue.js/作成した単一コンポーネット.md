# コンポーネット
- ページを構成するUI部品のこと。（名前つきの再利用可能なインスタンスともぃえる）
- テンプレートと そのロジックから構成される
- よく使う機能をコンポーネントとすることで再利用性が高くなったり コードの見通しがよくなり開発効率の改善につながる
- コンポーネット定義は、.componentメソッドを使う
- .component((コンポーネントのId, コンポーネントの定義情報)


- 例題 Hello!と表示するUIパーツを作成
ページ内で使い回しできるようにしたい
<details>
  <summary>HTML</summary>
  
```
<div id="app">
  <hello-component></hello-component>
  <hello-component></hello-component>
  <hello-component></hello-component>

</div>

```

</details>

<details>
  <summary>JS</summary>

```
const app = Vue.createApp({
  data: () => ({
  }),

})
app.component('hello-component', {
  template: '<p>Hello!</p>'
  // テンプレートには テンプレート構文でUI部品の見た目の部分を記述できます
})
app.mount('#app')

```
</details>

![スクリーンショット 2024-01-30 16 13 39](https://github.com/kb8864/TIL/assets/128299525/b9803a7b-8001-4c46-af50-a1c40ce2b0eb)

[コンポーネント](https://ja.vuejs.org/guide/essentials/component-basics.html)



見たいサイト名とサイトのリンクを追加して遷移できるだけの機能

<details>
  <summary>単一ファイルコンポーネント（.vueファイル）</summary>
  
```
<template>
  <div class="app-container">
    <div class="input-container">
      <input v-model="newTask" placeholder="新しいタスクを入力してください" class="task-input">
      <input v-model="newTaskLink" placeholder="タスクのリンクを入力してください" class="task-input">
      <button @click="addTask" class="add-btn">リンク先を追加</button>
    </div>
    <ul class="task-list">
      <li v-for="(task, index) in tasks" :key="index" class="task-item">
        {{ task.name }}
        <a :href="task.link" target="_blank" class="task-link">ページへ飛ぶ</a>
        <span class="remove-task" @click="removeTask(index)">×</span>
      </li>
    </ul>
    <button @click="resetTasks" class="reset-btn">初期状態にする</button>
  </div>
</template>

<script setup>
import { ref } from 'vue';

const newTask = ref('');
const newTaskLink = ref('');
const tasks = ref([]);

function addTask() {
  if (newTask.value.trim() !== '' && newTaskLink.value.trim() !== '') {
    tasks.value.push({ name: newTask.value, link: newTaskLink.value });
    newTask.value = '';
    newTaskLink.value = '';
  }
}

function removeTask(index) {
  tasks.value.splice(index, 1);
}

function resetTasks() {
  tasks.value = [];
}
</script>

<style scoped>
.app-container {
  max-width: 600px;
  margin: 40px auto;
  padding: 20px;
  background-color: #f5f5f5;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.input-container {
  display: flex;
  margin-bottom: 20px;
}

.task-input {
  flex-grow: 1;
  padding: 10px;
  border: 2px solid #ccc;
  border-radius: 4px;
  margin-right: 10px;
}

.add-btn, .reset-btn {
  padding: 10px 20px;
  background-color: #009688;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.add-btn:hover, .reset-btn:hover {
  background-color: #00796b;
}

.task-list {
  list-style: none;
  padding-left: 0;
}

.task-item {
  background-color: #fff;
  margin-bottom: 10px;
  padding: 10px;
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.task-link {
  margin-right: 10px;
  color: #42b983;
  text-decoration: none;
}

.task-link:hover {
  text-decoration: underline;
}

.remove-task {
  cursor: pointer;
  color: #999;
}

.remove-task:hover {
  color: #f44336;
}
</style>

```

</details>

https://github.com/kb8864/Study-Notes/assets/128299525/d5b0898b-ea6a-48ac-911a-403e9eac0811


<details>
  <summary>単一ファイルコンポーネント（.vueファイル）</summary>
  
```
<template>
  <div class="container">
    <h1>練習場所検索</h1>
    <div>
      <label for="pref">都道府県選択</label>
      <select v-model="pref" @change="city = ''" id="pref">
        <option v-for="item in prefectures" :key="item.id" :value="item.id">{{ item.name }}</option>
      </select>
    </div>
    <div>
      <label for="city">市区町村選択</label>
      <input type="text" v-model="city" @keyup="isSelect = false" id="city">
      <div v-for="pref in suggestList" :key="pref.citycode" class="card" @click="citySelect(pref.citycode)">
        {{ pref.city }}
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue';
import axios from 'axios';

const apiPath = './json/incremental_search.json';
const prefectures = ref([]);
const pref = ref('');
const city = ref('');
const isSelect = ref(false);

const suggestList = computed(() => {
  let retList = [];
  if (!isSelect.value && city.value) {
    prefectures.value.forEach((p) => {
      if (!pref.value || p.id === pref.value) {
        p.city.forEach((c) => {
          if (c.city.includes(city.value)) {
            retList.push(c);
          }
        });
      }
    });
  }
  return retList;
});

function citySelect(citycode) {
  const selectedCity = suggestList.value.find((pref) => pref.citycode === citycode);
  city.value = selectedCity.city;
  isSelect.value = true;
}

axios.get(apiPath).then((response) => {
  prefectures.value = response.data.pref;
});
</script>

<style>
.card {
  display: inline-flex;
  padding: 0 10px;
  margin: 5px 10px;
  border-radius: 3px;
  background-color: #20b2aa;
  color: #fff;
  cursor: pointer;
}
</style>

```

</details>

<details>
  <summary>HTML</summary>
  
```
<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>練習場所検索（機能）</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic"
    />
    <link
      rel="stylesheet"
      href="https://cdn.rawgit.com/necolas/normalize.css/master/normalize.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.rawgit.com/milligram/milligram/master/dist/milligram.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
    <style>
      .card {
        display: inline-flex;
        padding: 0 10px;
        margin: 5px 10px;
        border-radius: 3px;
        background-color: #20b2aa;
        color: #fff;
        cursor: pointer;
      }
    </style>
  </head>

  <body>
    <div class="container" id="app">
      <h1>練習場所検索</h1>
      <main class="main">
        <div class="row">
          <div class="column">
            <label
              >都道府県選択
              <select v-model="pref" @change="city = null">
                <option
                  v-for="item in prefectures"
                  :key="item.id"
                  :value="item.id"
                >
                  {{item.name}}
                </option>
              </select>
            </label>
          </div>
          <div class="column">
            <label
              >市区町村選択
              <input type="text" v-model="city" @KeyUp="isSelect=false" />
              <a
                href="#"
                v-for="pref in suggestList"
                class="card"
                @click.stop.prevent="citySelect(pref.citycode)"
              >
                {{pref.city}}
              </a>
            </label>
          </div>
        </div>
      </main>
    </div>

    <script>
      const apiPath = './json/incremental_search.json';
      var vm = new Vue({
        el: '#app',
        data: {
          prefectures: [],
          pref: undefined,
          city: undefined,
          isSelect: false,
        },
        computed: {
          suggestList() {
            let retList = [];
            if (!this.isSelect && this.city) {
              this.prefectures.forEach((p) => {
                if (!this.pref || p.id === this.pref) {
                  p.city.forEach((c) => {
                    if (c.city.indexOf(this.city) > -1) {
                      retList.push(c);
                    }
                  });
                }
              });
            }
            return retList;
          },
        },
        methods: {
          prefSelect(pref) {
            this.pref = pref;
            this.isSelect = true;
          },
          citySelect(code) {
            let selectCity = this.suggestList.filter((pref) => {
              return pref.citycode === code;
            });
            this.city = selectCity.shift().city;
            this.isSelect = true;
          },
          hiraToKana(str) {
            return str.replace(/[\u3041-\u3096]/g, function (match) {
              var chr = match.charCodeAt(0) + 0x60;
              return String.fromCharCode(chr);
            });
          },
        },
        mounted() {
          let self = this;
          axios.get(apiPath).then(function (response) {
            self.prefectures = response.data.pref;
          });
        },
      });
    </script>
  </body>
</html>

```

</details>


https://github.com/kb8864/Study-Notes/assets/128299525/edf7ab21-2de7-4083-975a-5dcf6ee9fde4

